# 指南-程序-Bug排查

Made By: 张瀚林
导师: J&W
引擎: Unity

当写程序遇到bug时应该这样做

## 一.检查代码逻辑是否正确

1.根据需求列出需要变量以及方法

2.查看自己代码是否都定义了以上变量和方法

3.**设计算法**：将写好的代码描述成一句句话，看话的意思是否是需求的意思，是否有遗漏和欠缺的地方

4.查漏补缺（没有则跳过进行下一步）

> 其实就是检查系统策划的逻辑

## 二.若逻辑正确检查所有使用的变量是否正确。

检查每次使用的变量是否是所需要的变量，因为同时定义相同类型的变量不止一个，可能所指代的游戏物体不同，要注意变量的引用。如：一个程序中定义了一个预制体gb_pb和一个用预制体实例化出来的游戏物体gb，要对实例化出来的游戏物体进行操作要使用**gb.**而不是**gb_pb.**

有一个命名规范很重要[好的代码](https://github.com/trekhleb/state-of-the-art-shitcode)

## 三.根据问题进行测试，如：使用断点、直接Debug.Log、游戏运行时直接在Inspector面板手动修改数值等。

1.通过Debug.Log可以直观地从控制台查看代码是否执行到这里，随着游戏状态的改变动态查看一些数值的变化，如：Debug.Log("GameObject的位置："
\+ gameObject.transform)。

2.游戏运行时，在Inspector面板中直接改变你想改变的数值，查看游戏物体是否按照想要的方式来运动，从而判断是代码赋值的问题，还是代码逻辑写的有问题。

3.Rider的使用[断点](https://www.bilibili.com/video/BV12f4y1s7UZ?from=search&seid=16733319122629619976)

## 四.还没有问题，检查是否有其他脚本干扰。

1.将自己写的脚本放到一个独立的命名空间，调用方法的时候可以防止调用其他的命名空间中的方法。

2.查看本游戏物体所挂载的其他脚本，以及其他游戏组件上挂载的可以影响本游戏物体的脚本。

3. 尽可能的使用Getter与Setter,切忌直接修改数值, 在小项目中无伤大雅,我们这些东西全部都是为了大项目准备的
## 五.以上都没有问题，重新检查每个函数的实现，以及函数文档，重新检查逻辑上存在的漏洞

从步骤一开始重复
